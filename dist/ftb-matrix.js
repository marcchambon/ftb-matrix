!function(A,g){"object"==typeof exports&&"undefined"!=typeof module?module.exports=g():"function"==typeof define&&define.amd?define(g):(A="undefined"!=typeof globalThis?globalThis:A||self).ftbMatrix=g()}(this,(function(){"use strict";function _loadWasmModule(sync,filepath,src,imports){function _instantiateOrCompile(A,g,I){var C=I?WebAssembly.instantiateStreaming:WebAssembly.instantiate,B=I?WebAssembly.compileStreaming:WebAssembly.compile;return g?C(A,g):B(A)}var buf=null,isNode="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;if(filepath&&isNode){var fs=eval('require("fs")'),path=eval('require("path")');return new Promise((A,g)=>{fs.readFile(path.resolve(__dirname,filepath),(I,C)=>{null!=I&&g(I),A(_instantiateOrCompile(C,imports,!1))})})}if(filepath)return _instantiateOrCompile(fetch(filepath),imports,!0);if(isNode)buf=Buffer.from(src,"base64");else{var raw=globalThis.atob(src),rawLength=raw.length;buf=new Uint8Array(new ArrayBuffer(rawLength));for(var i=0;i<rawLength;i++)buf[i]=raw.charCodeAt(i)}if(sync){var mod=new WebAssembly.Module(buf);return imports?new WebAssembly.Instance(mod,imports):mod}return _instantiateOrCompile(buf,imports,!1)}function standardModule(A){return _loadWasmModule(0,null,"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k5SSIAEqASwgASoBFCABKgEIlCABKgEEIAEqARiUk5SSlDgBDCAAIAIgASoBHCABKgIwIAEqASiUIAEqAiAgASoBOJSTlCABKgEsIAEqAhAgASoBOJQgASoCMCABKgEYlJOUkiABKgE8IAEqAiAgASoBGJQgASoCECABKgEolJOUkpQ4AhAgACACIAEqAQwgASoCICABKgE4lCABKgIwIAEqASiUk5QgASoBLCABKgIwIAEqAQiUIAEqAgAgASoBOJSTlJIgASoBPCABKgIAIAEqASiUIAEqAiAgASoBCJSTlJKUOAEUIAAgAiABKgEMIAEqAjAgASoBGJQgASoCECABKgE4lJOUIAEqARwgASoCACABKgE4lCABKgIwIAEqAQiUk5SSIAEqATwgASoCECABKgEIlCABKgIAIAEqARiUk5SSlDgBGCAAIAIgASoBDCABKgIQIAEqASiUIAEqAiAgASoBGJSTlCABKgEcIAEqAiAgASoBCJQgASoCACABKgEolJOUkiABKgEsIAEqAgAgASoBGJQgASoCECABKgEIlJOUkpQ4ARwgACACIAEqARwgASoCICABKgE0lCABKgIwIAEqASSUk5QgASoBLCABKgIwIAEqARSUIAEqAhAgASoBNJSTlJIgASoBPCABKgIQIAEqASSUIAEqAiAgASoBFJSTlJKUOAIgIAAgAiABKgEMIAEqAjAgASoBJJQgASoCICABKgE0lJOUIAEqASwgASoCACABKgE0lCABKgIwIAEqAQSUk5SSIAEqATwgASoCICABKgEElCABKgIAIAEqASSUk5SSlDgBJCAAIAIgASoBDCABKgIQIAEqATSUIAEqAjAgASoBFJSTlCABKgEcIAEqAjAgASoBBJQgASoCACABKgE0lJOUkiABKgE8IAEqAgAgASoBFJQgASoCECABKgEElJOUkpQ4ASggACACIAEqAQwgASoCICABKgEUlCABKgIQIAEqASSUk5QgASoBHCABKgIAIAEqASSUIAEqAiAgASoBBJSTlJIgASoBLCABKgIQIAEqAQSUIAEqAgAgASoBFJSTlJKUOAEsIAAgAiABKgEYIAEqAjAgASoBJJQgASoCICABKgE0lJOUIAEqASggASoCECABKgE0lCABKgIwIAEqARSUk5SSIAEqATggASoCICABKgEUlCABKgIQIAEqASSUk5SSlDgCMCAAIAIgASoBCCABKgIgIAEqATSUIAEqAjAgASoBJJSTlCABKgEoIAEqAjAgASoBBJQgASoCACABKgE0lJOUkiABKgE4IAEqAgAgASoBJJQgASoCICABKgEElJOUkpQ4ATQgACACIAEqAQggASoCMCABKgEUlCABKgIQIAEqATSUk5QgASoBGCABKgIAIAEqATSUIAEqAjAgASoBBJSTlJIgASoBOCABKgIQIAEqAQSUIAEqAgAgASoBFJSTlJKUOAE4IAAgAiABKgEIIAEqAhAgASoBJJQgASoCICABKgEUlJOUIAEqARggASoCICABKgEElCABKgIAIAEqASSUk5SSIAEqASggASoCACABKgEUlCABKgIQIAEqAQSUk5SSlDgBPAsFIAAQBRoLCx0BA30gABAEIgAQDEEQIABqEAyXQSAgAGoQDJeRCw==",A)}function simdModule(A){return _loadWasmModule(0,null,"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ASoBCJQgASoBBCABKgEolJOUkpQ4AQQgACACIAEqAQwgASoBFCABKgE4lCABKgE0IAEqARiUk5QgASoBHCABKgE0IAEqAQiUIAEqAQQgASoBOJSTlJIgASoBPCABKgEEIAEqARiUIAEqARQgASoBCJSTlJKUOAEIIAAgAiABKgEMIAEqASQgASoBGJQgASoBFCABKgEolJOUIAEqARwgASoBBCABKgEolCABKgEkIAEqAQiUk5SSIAEqASwgASoBFCABKgEIlCABKgEEIAEqARiUk5SSlDgBDCAAIAIgASoBHCABKgIwIAEqASiUIAEqAiAgASoBOJSTlCABKgEsIAEqAhAgASoBOJQgASoCMCABKgEYlJOUkiABKgE8IAEqAiAgASoBGJQgASoCECABKgEolJOUkpQ4AhAgACACIAEqAQwgASoCICABKgE4lCABKgIwIAEqASiUk5QgASoBLCABKgIwIAEqAQiUIAEqAgAgASoBOJSTlJIgASoBPCABKgIAIAEqASiUIAEqAiAgASoBCJSTlJKUOAEUIAAgAiABKgEMIAEqAjAgASoBGJQgASoCECABKgE4lJOUIAEqARwgASoCACABKgE4lCABKgIwIAEqAQiUk5SSIAEqATwgASoCECABKgEIlCABKgIAIAEqARiUk5SSlDgBGCAAIAIgASoBDCABKgIQIAEqASiUIAEqAiAgASoBGJSTlCABKgEcIAEqAiAgASoBCJQgASoCACABKgEolJOUkiABKgEsIAEqAgAgASoBGJQgASoCECABKgEIlJOUkpQ4ARwgACACIAEqARwgASoCICABKgE0lCABKgIwIAEqASSUk5QgASoBLCABKgIwIAEqARSUIAEqAhAgASoBNJSTlJIgASoBPCABKgIQIAEqASSUIAEqAiAgASoBFJSTlJKUOAIgIAAgAiABKgEMIAEqAjAgASoBJJQgASoCICABKgE0lJOUIAEqASwgASoCACABKgE0lCABKgIwIAEqAQSUk5SSIAEqATwgASoCICABKgEElCABKgIAIAEqASSUk5SSlDgBJCAAIAIgASoBDCABKgIQIAEqATSUIAEqAjAgASoBFJSTlCABKgEcIAEqAjAgASoBBJQgASoCACABKgE0lJOUkiABKgE8IAEqAgAgASoBFJQgASoCECABKgEElJOUkpQ4ASggACACIAEqAQwgASoCICABKgEUlCABKgIQIAEqASSUk5QgASoBHCABKgIAIAEqASSUIAEqAiAgASoBBJSTlJIgASoBLCABKgIQIAEqAQSUIAEqAgAgASoBFJSTlJKUOAEsIAAgAiABKgEYIAEqAjAgASoBJJQgASoCICABKgE0lJOUIAEqASggASoCECABKgE0lCABKgIwIAEqARSUk5SSIAEqATggASoCICABKgEUlCABKgIQIAEqASSUk5SSlDgCMCAAIAIgASoBCCABKgIgIAEqATSUIAEqAjAgASoBJJSTlCABKgEoIAEqAjAgASoBBJQgASoCACABKgE0lJOUkiABKgE4IAEqAgAgASoBJJQgASoCICABKgEElJOUkpQ4ATQgACACIAEqAQggASoCMCABKgEUlCABKgIQIAEqATSUk5QgASoBGCABKgIAIAEqATSUIAEqAjAgASoBBJSTlJIgASoBOCABKgIQIAEqAQSUIAEqAgAgASoBFJSTlJKUOAE4IAAgAiABKgEIIAEqAhAgASoBJJQgASoCICABKgEUlJOUIAEqARggASoCICABKgEElCABKgIAIAEqASSUk5SSIAEqASggASoCACABKgEUlCABKgIQIAEqAQSUk5SSlDgBPAsFIAAQBBoLCx0BA30gABADIgAQC0EQIABqEAuXQSAgAGoQC5eRCw==",A)}const defaultOptions={autoFree:!1,simd:!1,autodetect:!1,maxMatrices:982,matrixStartingSlot:42};let temp,maxIndex,firstArgType;const defaultArray=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],defaultVector={x:1,y:1,z:1},defaultQuaternion={_x:1,_y:1,_z:1,_w:1},defaultEuler={x:1,y:1,z:1,isEuler:"XYZ"},eulerMap={XYZ:0,YXZ:1,ZXY:2,ZYX:3,YZX:4,XZY:5};function trueFunc(){return!0}function falseFunc(){return!1}async function ftbMatrix(A=defaultOptions){const g={...defaultOptions,...A},{autoFree:I=!1,maxMatrices:C=982,matrixStartingSlot:B=42}=g,E=C+B,o=Math.ceil(64*(parseInt(C,10)+B)/65536),Q=new WebAssembly.Memory({initial:o}),t=Q.buffer;let S;const i={},e={};let l,K=B;I&&(l=new WeakMap);const s={"":{mem:Q}};let U;if(g.autodetect||g.simd)try{({instance:{exports:U}}=await simdModule(s)),console.info("ftb-matrix: successfully using SIMD for faster calculations.")}catch(A){g.autodetect?({instance:{exports:U}}=await standardModule(s)):(console.error("ftb-matrix: does your platform really support SIMD ?"),console.error(A))}else({instance:{exports:U}}=await standardModule(s));const{identity_d:q,copy:J,copyPos:r,mul:p}=U,D=new Float32Array(t,0,16*B);for(let A=B;A<E;A++)e[A]=falseFunc,i[A]=new Float32Array(t,A<<6,16);function n(A,g,o,Q,t,s,U,J,r,p,D,n,f,w,m,O,a){S=I?B:K;for(let A=S;A<E;A++){if(!e[A]()){K=A;break}if(A===C)throw Error("ftb-matrix: Not enough allocated memory: please use the 'maxMatrices' option.")}this.slot=K,e[K]=trueFunc,I&&l.set(this),this.dimension=4,firstArgType=typeof A,"function"===firstArgType?A(K,g,o,Q,t,s,U,J,r,p,D,n,f,w,m,O,a):"object"===firstArgType&&"number"==typeof A.slot?this.copy(A,this):"number"===firstArgType?this.init(A,g,o,Q,t,s,U,J,r,p,D,n,f,w,m,O):q(K),this[Symbol.toPrimitive]=A=>"string"===A?i[this.slot].toString():"number"!==A?"Matrix slot number: "+this.slot:void this.determinant()}n.prototype.free=function(){e[this.slot]=falseFunc,I||(K=this.slot)},n.prototype.multiply=function(A){return J(this.slot,0),p(0,A.slot,this.slot),this},n.prototype.premultiply=function(A){return J(this.slot,0),p(A.slot,0,this.slot),this},n.prototype.multiplyMatrices=function(A,g){return p(A.slot,g.slot,this.slot),this};for(let A of Object.keys(U)){const g=A.split("_"),I=g[0];if(g.length>1){const C=g[g.length-1];"d"===C?(n.prototype[I]=function(g,I,C,B,E,o,Q,t,S,i,e,l,K,s,q,J,r){const p=U[A].call(this,this.slot,g,I,C,B,E,o,Q,t,S,i,e,l,K,s,q,J,r);return void 0===p?this:p},n[I]=function(g,I,C,B,E,o,Q,t,S,i,e,l,K,s,q,J,r){return new n(U[A],g,I,C,B,E,o,Q,t,S,i,e,l,K,s,q,J,r)}):"u"===C&&(n.prototype[I]=U[A],n[I]=n.prototype[I])}}return n.prototype.copyPosition=function(A){return r(A.slot,this.slot),this},n.prototype.fromArray=function(A=defaultArray,g=0){for(let I=0;I<16;I++)i[this.slot]=A[I+g];return this},n.fromArray=function(A=defaultArray,g=0){temp=new n;for(let I=0;I<16;I++)i[temp.slot]=A[I+g];return temp},n.prototype.set=function(A,g,I,C,B,E,o,Q,t,S,e,l,K,s,U,q){Object.assign(i[this.slot],[A,B,t,K,g,E,S,s,I,o,e,U,C,Q,l,q])},n.prototype.init=function(A,g,I,C,B,E,o,Q,t,S,e,l,K,s,U,q){return"number"==typeof q?Object.assign(i[this.slot],[A,g,I,C,B,E,o,Q,t,S,e,l,K,s,U,q]):void 0===B?(this.dimension=2,Object.assign(i[this.slot],[A,g,0,0,I,C,0,0,0,0,0,0,0,0,0,0])):void 0===S&&(this.dimension=3,Object.assign(i[this.slot],[A,g,I,0,C,B,E,0,o,Q,t,0,0,0,0,0])),this},n.prototype.clone=function(A){return J(A.slot,this.slot),this},n.prototype.compose=function(A=defaultVector,g=defaultQuaternion,I=defaultVector){return U.compose(this.slot,A.x,A.y,A.z,g._x,g._y,g._z,g._w,I.x,I.y,I.z),this},n.prototype.equals=function(A){return!!U.equals(this.slot,A.slot)},n.prototype.decompose=function(A=defaultVector,g=defaultQuaternion,I=defaultVector){temp=this.slot<<6,I.x=U.norm_u(temp),I.y=U.norm_u(temp+16),I.z=U.norm_u(temp+32),this.determinant()<0&&(I.x=-I.x),temp=i[this.slot],A.x=temp[12],A.y=temp[13],A.z=temp[14];const C=new n(this),B=1/I.x,E=1/I.y,o=1/I.z;if(temp=i[C.slot],temp[0]*=B,temp[1]*=B,temp[2]*=B,temp[4]*=E,temp[5]*=E,temp[6]*=E,temp[8]*=o,temp[9]*=o,temp[10]*=o,temp[0]+temp[5]+temp[10]>0){const A=.5/Math.sqrt(1+temp[0]+temp[5]+temp[10]);g._x=A*(temp[6]-temp[9]),g._y=A*(temp[8]-temp[2]),g._z=A*(temp[1]-temp[4]),g._w=.25/A}else if(temp[0]>temp[5]&&temp[0]>temp[10]){const A=.5/Math.sqrt(1+temp[0]-temp[5]-temp[10]);g._x=.25/A,g._y=A*(temp[4]+temp[1]),g._z=A*(temp[8]+temp[2]),g._w=A*(temp[6]-temp[9])}else if(temp[5]>temp[10]){const A=.5/Math.sqrt(1+temp[5]-temp[0]-temp[10]);g._x=A*(temp[4]+temp[1]),g._y=.25/A,g._z=A*(temp[9]+temp[6]),g._w=A*(temp[8]-temp[2])}else{const A=.5/Math.sqrt(1+temp[10]-temp[0]-temp[5]);g._x=A*(temp[1]-temp[4]),g._y=A*(temp[9]+temp[6]),g._z=.25/A,g._w=A*(temp[1]-temp[4])}return C.free(),this},n.prototype.copy=function(A,g){return J(A.slot,g?g.slot:this.slot),this},n.prototype.extractBasis=function(A=defaultVector,g=defaultVector,I=defaultVector){return temp=i[this.slot],A.x=temp[0],A.y=temp[1],A.z=temp[2],g.x=temp[4],g.y=temp[5],g.z=temp[6],I.x=temp[8],I.y=temp[9],I.z=temp[10],this},n.prototype.extractRotation=function(A){return U.extractRotation(this.slot,A.slot),this},n.prototype.makeRotationFromQuaternion=function(A=defaultQuaternion){return U.compose(this.slot,0,0,0,A._x,A._y,A._z,A._w,1,1,1),this},n.prototype.makeRotationFromEuler=function(A=defaultEuler){return temp=eulerMap[A.isEuler||"XYZ"],U.makeRotationFromEuler(this.slot,A.x,A.y,A.z,temp),this},n.prototype.getInverse=function(A){return U.getInverse(this.slot,A.slot),this},Object.defineProperty(n.prototype,"elements",{get(){return 4===this.dimension?i[this.slot]:3===this.dimension?(temp=i[this.slot],[temp[0],temp[1],temp[2],temp[4],temp[5],temp[6],temp[8],temp[9],temp[10]]):2===this.dimension?(temp=i[this.slot],[temp[0],temp[1],temp[4],temp[5]]):void 0}}),n.prototype.fromArray=function(A=[],g=0){if(temp=i[this.slot],4===this.dimension){maxIndex=16;for(let I=0;I<16;I++)temp[I]=A[g+I]}return this},n.prototype.toArray=function(A=[],g=0){temp=i[this.slot],maxIndex=4===this.dimension?16:3===this.dimension?9:4;for(let I=0;I<maxIndex;I++)A[g+I]=temp[I];return A},n.reservedMemory=D,I?{Mat:n,g(A){if(void 0===A().slot)throw Error("ftb-matrix: cannot check matrix for garbage collection !");e[A().slot]=function(){return l.has(A())}}}:{Mat:n}}return ftbMatrix}));
